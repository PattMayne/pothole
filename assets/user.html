<!-- Default theme for users' profiles -->
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="/css/style.css">
		<title>Pothole</title>
	</head>
	<body>
		{{ :Version = 1; }}
		<main>
            <h1>{{ .Name }}</h1>
			<p>{{ .Summary }}</p>
        </main>
		<!-- Only 15 posts will be displayed per page -->
		{{ :SetPostLimit = 15; }}
		{{ :Start = Post; }} <!-- Always start post block with "Post" explicitly -->
			<div class="post">
				{{ :IsReply }}
				<p class="replyto">Replying to <a href="{{ReplyTo}}">a post</a> from <a href="{{ :ExternalUser = OP }}">{{ OP }}</a>
				{{ :End }}
				
				<a href="{{ExternalLink}}"><time datetime="{{ WrittenAt }}">{{ WrittenIn }}</time></a>
				{{ :IsUpdated }}
				<time datetime="{{ UpdatedAt }}">Updated {{ UpdatedIn }}</time>
				{{ :End }}

				{{ :Has = Title; }}
				<h1>{{ Title }}</h1>
				{{ :End }}
				{{ :Has = CW; }}
				<details>
					<summary><b>Content warning: {{ CW }}</b></summary>
				{{ :End }}
				
				<!-- Actual post is here now! -->
				<!-- This is limited to the server's character limit and anything longer will not be shown. -->
				<p>{{ #Content }}</p>

				<!-- Show any pictues -->
				{{ :Has = Attachments; }}
					{{ :ForEach(i) = Attachments; }}
						<img alt="{{ (i.alt) }}" src="{{ (i.src) }}">
					{{ :End }}
				{{ :End }}

				<!-- Automatically display any generic Activity, HTML will be generated by Pothole -->
				{{ :DisplayGenActivity }}

				<div class="stats">
					<p>
						<span>Likes: {{ Favorites }}</span>
						<span>Boosts: {{ Repeats }}</span>
						<span>Replies: {{ :HowMany = Replies; }}</span>
					</p>
				</div>

				{{ :Has = CW; }}
				</details>
				{{ :End }}
			</div>
		{{ :End = Post; }} <!-- Always end the post block with "Post" explicitly. -->
		<hr>
		{{ :Has = $Version; }}
        <p>Pothole version: {{ $Version }}</p>
		{{ :End = ^; }}
        <p>This website runs Pothole, a lightweight ActivityPub server.</p>
	</body>
</html>
